---
title: "Vim Tutorial - 1"
date: 2023-10-20 20:00:00 +09:00
# last_modified_at:
categories: [vim]
tags: [vim, basic]
---
컴퓨터 사용할때 마우스 많이 쓰시나요?<br>
타이핑을 하다보면 마우스를 사용하는 경우가 많이 생깁니다.<br>
문장 중간에 오타가 있다던지, 특정 문자열을 다른 문자열로 바꿀때 처럼요<br>
<br>
그럴때 마우스 사용하기가 불편하거나 번거롭다면 vim을 사용해 봅시다.<br>
<br>
>마우스 사용하는것이 편한분들은 굳이 vim을 사용할 필요가 없습니다. vim 배울 시간에 다른걸 하는게 낫다고 생각해요...
<br>
저 같은 경우에는 타이핑 하다가 손을 마우스로 움직일때 피로감을 많이 느꼈고, 밖에 나가서 노트북으로 작업할때 마우스 없이 터치패드를 사용하려니 불편해서 찾아본게 vim이였습니다.<br>
<br>
아무튼, 위 상황처럼 vim이 필요하신 경우에만 사용하는것을 추천합니다.<br>

<br>

vim의 기본적인 작동법만 익숙해지면 그 뒤는 쉽게 터득할 수 있으니까 실전압축으로 vim을 배워보아요.

## 기본 개념 
vim은 다른 에디터와 조금 다릅니다.<br>
보통의 에디터들은 타이핑을 하면 바로 텍스트를 파일에 작성할 수 있는 입력모드만 지원하는 반면, vim은 여러가지 모드를 지원합니다.<br>
<br>
vim에는 총 4가지 모드가 있습니다.<br>

- Normal Mode
- Insert Mode
- Command Mode
- Visual Mode

### Normal Mode
vim으로 파일을 열었을때 처음으로 마주하는 모드입니다.<br>
이 상태에서는 텍스트 입력을 지원하지 않습니다. <br>
그러나 커서를 움직인다던가, 특정 문자를 지우거나 추가한다거나 하는 명령을 내릴수 있습니다. <br>

### Insert Mode
일반 에디터 처럼 텍스트를 입력할 수 있는 상태입니다. <br>
이 상태에서 esc를 누르면 Normal Mode로 진입됩니다.

### Command Mode
Normal Mode에서 `:` 입력하면 진입되는 모드입니다. <br>
이 상태에서 문자열을 찾거나, 파일을 저장하는것과 같이 Normal Mode에서 하지 못하는 명령을 내리는 경우가 많습니다. <br>

### Visual Mode
비주얼 모드는 마우스로 텍스트를 드래그 하는것과 같은 역할을 합니다.<br>

<br><br>

이렇게만 봐서는 어떻게 사용하는건지 감이 안잡히실거에요<br>
<br>
먼저 Normal Mode에서 사용하는 기본적인 커맨드부터 살펴보면서 이해해 봅시다 !

## Normal Mode
Normal Mode는 보통 특정 명령을 내릴때 사용하는 모드입니다.<br>
기본적으로 사용하는 명령어들을 알아봅시다.<br>
1. 커서를 한칸씩 이동하는 `hjkl`
2. Insert Mode로 진입하는 `i I a A`
3. 커서를 단어 단위로 이동하는 `w W b B`
4. 원하는 글자의 위치로 이동하는 `f F`
5. 텍스트를 수정하는 `d c x r s`, 복사하는 `y`
6. 붙여넣기 `p P`
7. undo, redo `u ctrl+r`

### 1. 커서를 한칸씩 이동하는 `hjkl`

vim의 진입장벽을 담당하는 녀석입니다.<br>
vim은 Normal Mode에서 `hjkl`를 이용하여 커서를 움직입니다.<br>

화살표 커맨드로 나타내면<br>
- `h`: ← 
- `j`: ↓
- `k`: ↑ 
- `l`: →

보통 `hj`를 `ㄱ`, `kl`를 `ㄴ`으로 두고 `ㄱㄴ` 외우는 경우가 있는데 <br>
외우는것 보다는 많이 자주 사용해서 익숙해지는게 최고인것 같아요<br>

[https://vim-adventures.com/](https://vim-adventures.com/) <br>
심심할때마다 위 사이트에서 1분씩 움직여보면 금방 익숙해 집니다. <br>
포기하지말고 익숙해져보아요<br>


### 2. Insert Mode로 진입하는 `i I a A`
`hjkl`에 조금 익숙해 졌나요? <br>
다음 단계입니다. 커서를 움직였다면 텍스트를 입력해보아요. <br>
#### `i, a`
`i`는 텍스트를 현재 커서에서 왼쪽에 입력하는 명령어이고 <br>
`a`는 텍스트를 현재 커서에서 오른쪽에 입력하는 명령어 입니다. <br>
<br>
예를 들어봅시다.
<br>
GR<U>A</U>PE <br>
Normal Mode에서 A에 커서가 있다고 할때 여기서 `i`를 입력하고 T를 입력 후 `<esc>`키를 누르면<br>
GR<U><B>T</B></U>APE<br>
R과 A 사이에 T가 생긴것을 볼 수 있습니다. <br>
<br>
동작 순서를 설명하자면 
1. `i`를 눌러서 커서가 R과 A 사이로 감
2. `T`를 입력하여 텍스트 추가
3. `<esc>`를 눌러서 Normal Mode로 빠져나옴

가 됩니다. <br>

이 상태에서 위랑 똑같이 하되 `i`대신 `a`를 입력하면 어떻게 될까요? <br>
예측해보고 직접 실습해보세요 ! <br>

#### `I, A`
이 명령어도 간단합니다. <br>
`I`: 해당 라인에서 문자가 처음 시작되는 곳에서 Insert Mode로 전환함<br>
`A`: 해당 라인의 마지막에서 Insert Mode로 전환함
<br>
간단하죠?
다만 `I`는 공백을 무시합니다. <br>
예를들어 공백을 `ㅁ`라고 했을때 `ㅁㅁㅁGRAPEㅁ` 라는 라인이 있다면<br>
Normal Mode에서 `I`를 입력했을때 `G` 왼쪽에서 Insert Mode가 켜지고 혹은 `A`를 입력했을때 `APPLE`뒤의 공백 오른쪽에서 Insert Mode가 켜집니다.

### 3. 커서를 단어 단위로 이동하는 `w W b B`
사실 단어 단위로 이동할 수 있는 명령어가 `w W b B` 말고도 더 있지만 많이 사용하는 명령어 먼저 익숙해져봅시다.

`w`는 의미상 다음 단어의 첫 문자로 이동합니다. <br>
`W`는 공백을 기준으로 단어를 인식하여 다음 단어의 첫 문자로 이동합니다.<br>

`b`와 `B`는 `w W`와 같지만 반대로 이전 단어로 이동합니다. <br>

설명이 좀 복잡한것 같은데 예제 보면서 확인해 보아요.<br>

`apple.grape-tree*strawberry blueberry_123` <br>
위 문자열이 있고, `apple`의 `a`에 커서가 있을때 Normal Mode에서 `w`를 입력하면 `.`으로 이동합니다.<br>
vim 에서 `apple`과 `.`를 다른 단어로 인식했다는 뜻이에요<br>
Normal Mode에서 계속 `w`를 눌러보면 의미상 다음 단어라는 뜻을 이해할 수 있을거에요.<br>

> `_`가 포함된 문자열은 다른 단어로 인식하지 않고 같은 단어로 취급합니다. <br>
> 실제로 `blueberry_123` 문자열의 첫번째 `b`위치에서 `w`를 입력해보면 커서가 `_`로 이동하지 않습니다. <br>


다시 `apple`의 `a`에 커서를 놓고 Normal Mode에서 `W`를 입력해보면 `blueberry_123`의 첫글자 `b`로 이동하는것을 확인할 수 있습니다.<br>
`b B` 명령은 `w W`의 반대로 이동합니다. 직접 실습해보아요! 

### 4. 원하는 글자의 위치로 이동하는 `f F`

간단합니다. `f<찾는 문자>` 를 적어주면 커서 기준 오른쪽으로, `F<찾는 문자>`는 커서 기준 왼쪽으로 커서를 이동합니다.<br>

`apple.grape-tree*strawberry blueberry_123` <br>
해당 문자열에서 `*`에 커서가 있다고 할때 Normal Mode에서 `fa`를 입력하면 `strawberry`에서 `a`로 커서가 이동하는것을 볼 수 있습니다. <br>
만약 `Fa`를 입력한다면 `grape`의 `a`로 커서가 이동하겠죠?<br>
<br>

그런데 `Fa`를 입력했을때 `grape`의 `a` 말고 `apple`의 `a`로 이동하고 싶을때도 있을거에요. <br>
그럴때는 `;`나 `,`를 입력해주면 됩니다.<br>
`;`는 이동방향으로 계속 찾아주는 명령이고<br>
`,`는 이동방향의 반대로 찾아주는 명령입니다. <br>

그러므로 `Fa` 를 입력하고 `;`를 입력하면 `apple`의 `a`로 커서가 이동합니다 <br>
이 상태로 `,`를 입력해주면 다시 `grape`의 `a`로 이동하는걸 볼 수 있어요.<br>
<br>

만약 `*`문자 위치에서 `fe;,` 명령을 입력했을때 경우에는 어떻게 커서가 이동할지 예측해보고 실습해보아요!

### 5. 텍스트를 수정하는 `d c x r s`, 복사하는 `y`
명령어가 참 많네요. 하나씩 설명 후 예제를 통해 실습해봅시다<br>

- `d`: delete를 뜻합니다.<br>
- `c`: change를 뜻합니다.<br>
- `y`: yank(복사)를 뜻합니다.<br>

`d c y` 명령어들은 커서를 이동하는 명령어와 조합해서 사용합니다. <br>

> 보통 이런 명령어를 operator 이라고 하고, 커서를 이동해주는 명령어를 motion이라고 하는데 지금은 그냥 그런게 있구나 정도로 이해해도 됩니다.<br>

- `x`: 문자 하나를 삭제합니다.<br>
- `r`: 문자 하나를 원하는 문자로 교체합니다. <br>
- `s`: 문자 하나를 삭제하고 해당 위치에서 Insert Mode로 진입합니다.

위 명령어들을 사용해 봅시다.<br>

`When I`  라는 문자열이 있다고 할때<br>

`d c y` 명령어 먼저 설명하겠습니다. <br>
위 명령어는 커서를 이동시키는 명령어와 조합해서 사용합니다.<br>

`When`의 `W`에 커서를 놓고 `dw`를 눌러봅시다. 어떻게 되나요? <br>
`w`명령어는 다음 단어의 첫 글자로 이동하는 명령어인데, 다음 단어인 `I` 직전까지 삭제되고 `I`로 커서가 이동하는것을 확인할 수 있습니다.
<br>

`When`의 `h`에 커서가 위치했을때 위 명령어를 입력하면 어떻게 될까요? <br>
`hen `의 문자가 삭제됩니다. <br>
<br>
위 명령어들은 특정 행동을 내가 원하는 위치<b>직전</b>까지 수행한다고 볼 수 있겠죠?<br>

그렇다면 `cw`명령어와 `yw`도 어떻게 작동하는지 이해 될거에요.직접 해봅시다 !<br>
> 커서 이동 명령어 말고 `dd` `yy` `cc`를 입력하면 해당 라인을 삭제, 복사, 수정 한다는 뜻이고<br>
> `D` `C`를 입력하면 해당 커서위치부터 라인 끝까지 명령을 수행합니다.
> 이 명령어는 자주 사용하게 될거에요.

`x r s` 명령어도 쉽습니다. 이 명령어는 문자 하나에 명령을 내려요<br>

`apple`에서 `a`에 커서가 있다고 할때 <br>
Normal Mode에서 `x`를 입력하면 `a`가 삭제되고<br>
`rb`를 입력하면 `a`가 `b`로 수정되고<br>
`s`를 입력하면 `a`가 삭제되고 해당 위치에서 Insert Mode가 켜지는것을 볼 수 있습니다.

### 6. 붙여넣기 `p P`
vim에서 `d`명령어나 `c` 등 문자를 삭제하는 명령어를 사용하면 사실 vim에서 사용하는 클립보드에 삭제된 문자열이 저장됩니다.<br>
이는 OS에서 관리하는 클립보드랑은 다른 공간입니다.<br>

`d c y`등으로 문자를 복사했다면 <br>
`p`로 현재 행에 붙여 넣거나 `P`로 현재 행의 위에 붙여넣기 할 수 있습니다.

### 7. undo, redo `u ctrl+r`
vim에서 되돌리기는 Normal Mode에서 `u`를 입력하고, 되돌리기를 취소할때는 `ctrl+r (컨트롤+r)` 키를 누르면 됩니다. <br>
이때 주의할 점은 vim은 다른 에디터와는 다르게 한글자씩 undo가 되는것이 아닌, 명령어 단위로 undo가 실행됩니다.<br>

```
Apple Grape
```
라는 문자열이 있고, `A`에 커서가 있다고 할때
`dw`를 입력후 `i`로 Insert Mode에 진입하여 `Orange`를 입력하는것과<br>
`cw`를 입력해서 Insert Mode로 진입해서 `Orange`를 입력하는것은 결과적으로 같아보일 수 있습니다.<br>
그러나 Normal Mode에서 `u`를 눌러보면 다르게 동작하는것을 알 수 있어요. <br>
이 현상은 위에서 말했듯이 undo가 명령어 단위로 동작하기 때문이에요<br>

첫번째 경우는 `dw`가 하나의 명령어고, 그 후 Insert Mode로 진입하는 `i`도 명령어이기 때문에 마지막에 입력된 `i` 명령을 취소하는거에요<br>

두번째는 `cw` 자체가 하나의 명령이기 때문에 `cw`명령을 취소하는것이지요

그래서 서로 undo 했을때 결과가 다르게 나온답니다.<br>
이 부분은 처음에는 적응하기 힘들 수 있어요. <br>
자주 사용해보면서 익숙해져 봅시다 !
<br>
<br>
<br>

## Visual Mode
Normal Mode에서 `v`나 `V`를 입력하면 Visual Mode로 진입합니다.<br>
`v`는 글자 단위, `V`는 블록단위로 진입되는데 마우스 드래그랑 역할이 똑같습니다. <br>
Visual Mode에서 원하는 영역을 지정하고 `y, c, d` 같은 명령어로 원하는 작업을 수행할 수 있습니다.<br>
`esc`키를 누르면 취소되고 Normal Mode로 진입합니다!<br>
Normal Mode랑 비슷하므로 더 이상의 설명은 생략하겠습니다~!<br>


## 마무리
아주 기본적이고 vim에서 핵심이 되는 명령어들을 알아보았습니다.<br>
이 기능만 사용하다보면 뭔가 부족함이 느껴질때가 올거에요<br>
그래서 다음 포스트에는 제가 자주 사용하는 명령어들을 작성해보려고 해요<br>
그때까지 vim에 익숙해지시길!